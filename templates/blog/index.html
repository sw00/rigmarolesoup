<%inherit file="layout.html"/>

<%include file="header.html"/>

<section id="content">
<div class="row row-fluid" id="content">
	<div class="span8 offset1" id="content-blogs">
	% for p in posts:
		<article>
		<header style="text-align:center">
		<h3><a href="p/${p.title}" title="${p.title}">${p.title}</a></h3>
		<small class="pull-right">${p.created}</small>
		<div class="btn-group">
			<a href="#edit" class="btn btn-mini">edit</a>
			<a href="#delete" class="btn btn-mini">delete</a>
		</div>
		</header>
		<div class="body">
			${p.body}
			</div>
			<footer>
			<hr/>
			</footer>
	</article>
	% endfor
</div>
<div class="span2 pull-left" id="aside">
	<form id="search" action="search" method="POST">
		<input type="search" placeholder="search..."></input>
	</form>
	<hr/>
	<h4>Categories</h4>
	<ul>
		<li>stuff</li>
	</ul>
</div>
</div>
</section>

<%include file="footer.html"/>
<script src="/static/js/underscore-min.js"></script>
<script src="/static/js/backbone-min.js"></script>
<script src="/static/js/jquery-1.8.2.min.js"></script>
<script type="text/javascript" language="javascript">
	data = ${posts_json};

	data = _.map(data, function(p){
			return jQuery.parseJSON(p);
		});

	Entry = Backbone.Model.extend({
		initiliaze: console.log('loaded!')
	});

	Entries = Backbone.Collection.extend({
		model: Entry
	});

	entryObj = new Entry(data);	
</script>
